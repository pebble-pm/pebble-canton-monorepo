# Test environment configuration for Pebble backend
# Used by tests via tests/setup/test-env.ts

# Canton connection
CANTON_URL=http://localhost:7575
CANTON_GRPC_PORT=6865
CANTON_ADMIN_PORT=6866

# Test parties (allocated via allocate-parties.sh)
PEBBLE_ADMIN_PARTY=PebbleAdmin::test
ORACLE_PARTY=Oracle::test

# Database - use in-memory SQLite for test isolation
TEST_DB_PATH=:memory:

# Logging - reduce noise during tests
LOG_LEVEL=error

# Settlement - faster batching for tests
SETTLEMENT_BATCH_INTERVAL_MS=100
SETTLEMENT_MAX_BATCH_SIZE=25
SETTLEMENT_MAX_RETRIES=3

# Event processor - faster reconnection for tests
EVENT_PROCESSOR_INITIAL_RECONNECT_MS=100
EVENT_PROCESSOR_MAX_RECONNECT_MS=1000

# Reconciliation - disable during tests unless specifically testing it
RECONCILIATION_INTERVAL_MS=0

# API server
PORT=3001
ADMIN_KEY=test-admin-key

# Rate limiting - higher limits for tests
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW_MS=60000
